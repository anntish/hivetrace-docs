"use strict";(self.webpackChunkhivetrace_docs=self.webpackChunkhivetrace_docs||[]).push([[4599],{1063:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"SDK/Agents/OpenAI Agents/index","title":"OpenAI Agents Integration","description":"Demo repository","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/SDK/Agents/OpenAI Agents/index.md","sourceDirName":"SDK/Agents/OpenAI Agents","slug":"/SDK/Agents/OpenAI Agents/","permalink":"/hivetrace-docs/en/SDK/Agents/OpenAI Agents/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/SDK/Agents/OpenAI Agents/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Integration with LangChain","permalink":"/hivetrace-docs/en/SDK/Agents/Langchain/"}}');var s=t(4848),i=t(8453);const o={},a="OpenAI Agents Integration",c={},l=[{value:"1. Installation",id:"1-installation",level:3},{value:"2. Environment Setup",id:"2-environment-setup",level:3},{value:"3. Attach the Trace Processor in Code",id:"3-attach-the-trace-processor-in-code",level:3},{value:"4. Minimal &quot;Before/After&quot; Example",id:"4-minimal-beforeafter-example",level:3},{value:"5. Tool Tracing",id:"5-tool-tracing",level:3}];function p(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"openai-agents-integration",children:"OpenAI Agents Integration"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Demo repository"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/anntish/openai-agents-forge",children:"https://github.com/anntish/openai-agents-forge"})}),"\n",(0,s.jsx)(n.h3,{id:"1-installation",children:"1. Installation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pip install hivetrace[openai_agents]==1.3.5\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"2-environment-setup",children:"2. Environment Setup"}),"\n",(0,s.jsxs)(n.p,{children:["Set the environment variables (via ",(0,s.jsx)(n.code,{children:".env"})," or export):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"HIVETRACE_URL=http://localhost:8000          # Your HiveTrace URL\nHIVETRACE_ACCESS_TOKEN=ht_...                # Your HiveTrace access token\nHIVETRACE_APPLICATION_ID=00000000-...-0000   # Your HiveTrace application ID\n\nSESSION_ID=\nUSERID=\n\nOPENAI_API_KEY=\nOPENAI_BASE_URL=https://api.openai.com/v1\nOPENAI_MODEL=gpt-4o-mini\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"3-attach-the-trace-processor-in-code",children:"3. Attach the Trace Processor in Code"}),"\n",(0,s.jsx)(n.p,{children:"Add 3 lines before creating/using your agents:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from agents import set_trace_processors\nfrom hivetrace.adapters.openai_agents.tracing import HivetraceOpenAIAgentProcessor\n\nset_trace_processors([\n    HivetraceOpenAIAgentProcessor()  # will take config from env\n])\n"})}),"\n",(0,s.jsx)(n.p,{children:"Alternative (explicit configuration if you don\u2019t want to rely on env):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from agents import set_trace_processors\nfrom hivetrace import SyncHivetraceSDK\nfrom hivetrace.adapters.openai_agents.tracing import HivetraceOpenAIAgentProcessor\n\nhivetrace = SyncHivetraceSDK(config={\n    "HIVETRACE_URL": "http://localhost:8000",\n    "HIVETRACE_ACCESS_TOKEN": "ht_...",\n})\n\nset_trace_processors([\n    HivetraceOpenAIAgentProcessor(\n        application_id="00000000-0000-0000-0000-000000000000",\n        hivetrace_instance=hivetrace,\n    )\n])\n'})}),"\n",(0,s.jsx)(n.p,{children:"Important:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Register the processor only once at app startup."}),"\n",(0,s.jsxs)(n.li,{children:["Attach it before the first agent run (",(0,s.jsx)(n.code,{children:"Runner.run(...)"})," / ",(0,s.jsx)(n.code,{children:"Runner.run_sync(...)"}),")."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"4-minimal-beforeafter-example",children:'4. Minimal "Before/After" Example'}),"\n",(0,s.jsx)(n.p,{children:"Before:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from agents import Agent, Runner\n\nassistant = Agent(name="Assistant", instructions="Be helpful.")\nprint(Runner.run_sync(assistant, "Hi!"))\n'})}),"\n",(0,s.jsx)(n.p,{children:"After (with HiveTrace monitoring):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from agents import Agent, Runner, set_trace_processors\nfrom hivetrace.adapters.openai_agents.tracing import HivetraceOpenAIAgentProcessor\n\nset_trace_processors([HivetraceOpenAIAgentProcessor()])\n\nassistant = Agent(name="Assistant", instructions="Be helpful.")\nprint(Runner.run_sync(assistant, "Hi!"))\n'})}),"\n",(0,s.jsx)(n.p,{children:"From this moment, all agent calls, handoffs, and tool invocations will be logged in HiveTrace."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"5-tool-tracing",children:"5. Tool Tracing"}),"\n",(0,s.jsxs)(n.p,{children:["If you use tools, decorate them with ",(0,s.jsx)(n.code,{children:"@function_tool"})," so their calls are automatically traced:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from agents import function_tool\n\n@function_tool(description_override="Adds two numbers")\ndef calculate_sum(a: int, b: int) -> int:\n    return a + b\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Add this tool to your agent\u2019s ",(0,s.jsx)(n.code,{children:"tools=[...]"})," \u2014 and its calls will appear in HiveTrace with inputs/outputs."]}),"\n",(0,s.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var r=t(6540);const s={},i=r.createContext(s);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);